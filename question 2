#include <stdio.h>
#include <conio.h>
#include <string.h>

int palindrome(char s[])
{
      int l=strlen(s),i;
      for(i=0;i<l/2;i++)
      {
            if(s[i]!=s[l-1-i])
                  return 0;
      }
      return 1;
}

void main()
{
      FILE *file;
      char str[100],ch;
      int i=0,pal=0;
      clrscr();
      if ((file = fopen("wordslist.txt", "r")) == NULL)
            printf("Error");
      while((ch=fgetc(file))!=EOF)
      {
            if(ch==' ' || ch=='\n')
            {
                  str[i++]='\0';
                  if(palindrome(str))
                        pal++;
                  i=0;
            }
            else
                  str[i++]=ch;

      }
             /* To end the last word */
      str[--i]='\0';
             /* To check the last word */
      if(palindrome(str))
            pal++;
      printf("%d",pal);
      fclose(file);
      getch();
}
